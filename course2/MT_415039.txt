
Test Case 415039: Verify the Validation Results tab for validated ABSEE deal
Test case name

Verify the Validation Results tab for validated ABSEE deal

Manual test case - Steps and Expected Results

415039	Test Case	Verify the Validation Results tab for validated ABSEE deal			
Steps:
1. Navigate to the ABS-EE Deal Home and locate the deal to test.
   - Expected: The deal row is visible and shows actions (View, Delete).
2. Click the "View" action for the deal.
   - Expected: The ABSEE Deal details page opens and the "Perform Validation" button is visible.
3. Click "Perform Validation" and select the appropriate pair.
   - Expected: The "Select pair for validation" dialog appears; the user can select a radio option and press OK to start validation.
4. Wait for validation to finish (Execution Status).
   - Expected: A message such as "ABS-EE Validation completed" and "CompletedSuccessfully" is displayed.
5. Open the "Validation Results" tab.
   - Expected: The Validation Results display: Filename (e.g., "ValidationResults.xlsx"), Created Date (with timestamp), Period Start, Period End, Number of Records, Number of Errors, Number of Warnings.
6. Verify numeric fields when expected.
   - Expected: Number of Records, Number of Errors, Number of Warnings show expected numeric values (e.g., 29489 records, 0 errors, 0 warnings).

Notes:
- Allow sufficient timeout for background validation (e.g., 60â€“120s).
- Avoid repeating shared login steps inside this test to prevent duplicate sessions.

3 records

import { test, expect } from '@playwright/test';

// 415039 - Validation Results tab
// Concise test that asserts execution completion and detailed result fields

test('415039 - Validation Results tab shows expected fields and counts', async ({ page }) => {
  const data = {
    dealName: '548678 ar 29489 09-30-2024 01',
    expectedFileName: 'ValidationResults.xlsx',
    expectedRecords: '29489',
    periodStart: '08-01',
    periodEnd: '09-30',
    expectedErrors: '0',
    expectedWarnings: '0'
  };

  await page.goto('https://13f-qa.azurewebsites.net/deals');
  await page.getByRole('button', { name: 'ABS-EE Deal Home' }).click();
  await expect(page.getByRole('heading', { name: 'ABS-EE Deal Home' })).toBeVisible();

  await page.getByRole('row', { name: data.dealName }).getByRole('link', { name: /view/i }).click();
  await page.getByRole('button', { name: 'Perform Validation' }).click();

  const okButton = page.getByRole('button', { name: 'OK' });
  if (await okButton.isVisible({ timeout: 5000 })) {
    await page.getByRole('radio').first().check();
    await okButton.click();
  }

  await page.getByText('Execution Status').click();
  await expect(page.getByText(/ABS-EE Validation completed/i)).toBeVisible({ timeout: 120_000 });
  await expect(page.getByText(/CompletedSuccessfully/i)).toBeVisible({ timeout: 120_000 });

  await page.locator('span').filter({ hasText: 'Validation Results' }).click();
  await expect(page.locator('text=Filename:').locator('..')).toContainText(data.expectedFileName);
  await expect(page.locator('span').filter({ hasText: /^Created Date:$/ }).locator('..'))
    .toContainText(/\d{4}.*\d{1,2}:\d{2}/);
  await expect(page.getByText('Period Start:').locator('..')).toContainText(data.periodStart);
  await expect(page.getByText('Period End:').locator('..')).toContainText(data.periodEnd);
  await expect(page.getByText('Number of Records:').locator('..')).toContainText(data.expectedRecords);
  await expect(page.getByText('Number of Errors:').locator('..')).toContainText(data.expectedErrors);
  await expect(page.getByText('Number of Warnings:').locator('..')).toContainText(data.expectedWarnings);
});
	

