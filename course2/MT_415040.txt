Note :To avoid duplicate login and create a new deal has NOT been included 


Test Case 415040: Verify the validation results for ABSEE deal


Test case name

Verify the validation results for ABSEE deal

Manual test case
415040	Test Case	Verify the validation results for ABSEE deal				
			1	Shared steps 413501: Login into AB2 site				
			2	Go to newly created and uploaded ABSEE deal	Verify the new deal is available with details and View and Delete button are also available			
			3	Click on 'View' button	Verify View button is accessible and clickable to user			
			4	Check ABSEE deal details page opens	Verify user successfully navigates to ABSEE Deal details page			
			5	Click on Perform Validation button	Verify the Select pair for validation popup displays and user able to select any radio button,ok and cancel button			
			6	Check for the Execution Status tab	Verify a message indicating 'ABS-EE Validation completed,CompletedSuccessfully : Finished Validation' is being displayed			
			7	Check the Validation Results button is enabled	Verify Validation Results button is enabled and clickable for the user			
			8	Click on the Validation Result button	Verify validation result zip file is downloaded and FileName should match the validation result FileName 			



Record
import { test, expect } from '@playwright/test';

test('test', async ({ page }) => {
  await page.getByRole('button', { name: 'ABS-EE Deal Home' }).click();
  await page.getByRole('heading', { name: 'ABS-EE Deal Home' }).click();
  await page.getByRole('columnheader', { name: 'Options' }).click();
  await page.getByRole('row', { name: '548678 ar 29489 09-30-2024 01' }).getByRole('link').click(); - This is clicking on view files 
  await page.getByRole('button', { name: 'Perform Validation' }).click();
  await page.getByText('Execution Status').click();
  await page.getByText('InProgress : 10% complete,').click();
  await page.getByText('ABS-EE Validation completed').click();
  await page.getByText('Execution Status').click();
  await page.getByText('ABS-EE Validation completed').click();
  await page.getByText('CompletedSuccessfully :').click();
  await page.locator('span').filter({ hasText: 'Validation Results' }).click();
  const downloadPromise = page.waitForEvent('download');
  await page.getByRole('button', { name: 'Validation Results' }).click();
  const download = await downloadPromise;
  const download1Promise = page.waitForEvent('download');
  await page.getByRole('button', { name: 'Validation Results' }).click();
  const download1 = await download1Promise;
});
