Test name
415047	Test Case	Verify the SEC Information page

Manual test case - Steps and Expected Results

Precondition: User is logged in (shared steps 413501) and has access to the ABS-EE Deal Home page. A deal with uploaded ABSEE files exists.

Clean, step-by-step procedure:
1. Navigate to the ABS-EE Deal Home.
   - Expected: User navigates to the ABS-EE Deal Home landing page.
2. Locate and open a newly created and uploaded ABSEE deal.
   - Expected: The deal is available with details and View and Delete buttons are also available.
3. Click the 'View' button.
   - Expected: View button is accessible and clickable to user.
4. Check for the SEC button.
   - Expected: SEC button is available and enabled.
5. Click the SEC button.
   - Expected: "SEC Information for Deal" page opens with fields for Submission Information, ABS-EE CoRegistrant, and Notification Email.
6. Attempt to save without filling mandatory fields.
   - Expected: Tooltip messages appear such as "Please fill out this field" and "CCC length should be 8 characters".
7. Fill all mandatory fields and click Save.
   - Expected: A success popup appears once user fills the fields and clicks the save button.

Notes:
- Ensure all required SEC fields are properly validated before saving.
- Test both validation error states and successful save scenarios.

Record (sample script):
See `course2/TC/Test_Case_415047.spec.ts` for an automated implementation.

import { test, expect } from '@playwright/test';

test('Verify the SEC Information page', async ({ page }) => {
  // 1. Navigate to ABS-EE Deal Home (assuming login is handled separately)
  await page.goto('https://13f-qa.azurewebsites.net/deals');
  await page.getByRole('button', { name: 'ABS-EE Deal Home' }).click();

  // 2. & 3. Locate and open target deal
  const dealRow = page.getByRole('row', { name: /99 submission proof to be/ });
  await expect(dealRow).toBeVisible();
  await dealRow.getByRole('link', { name: 'View' }).click();

  // 4. & 5. Check and click SEC button
  await expect(page.getByRole('link', { name: 'SEC' })).toBeVisible();
  await page.getByRole('link', { name: 'SEC' }).click();

  // 6. Verify SEC page fields
  await expect(page.getByText('Submission Information')).toBeVisible();
  await expect(page.getByText('Submission Contact')).toBeVisible();
  await expect(page.getByText('Notification Email')).toBeVisible();

  // 7. Test validation by attempting to save without required fields
  await page.getByRole('button', { name: 'Save' }).click();
  await expect(page.getByText('Please fill out this field')).toBeVisible({ timeout: 5000 });

  // 8. Fill required fields and save successfully
  await page.getByRole('spinbutton').first().fill('0000990461'); // Filer CIK
  await page.getByRole('textbox', { name: /Filer CCC/ }).fill('2trains*');
  await page.getByRole('textbox', { name: /ABS-EE File Number/ }).fill('002-12345');
  await page.getByRole('spinbutton').nth(1).fill('0000990600'); // Depositor CIK
  await page.getByRole('spinbutton').nth(2).fill('0000990458'); // Sponsor CIK
  await page.locator('input[type="email"]').first().fill('test@example.com');

  await page.getByRole('button', { name: 'Save' }).click();
  await expect(page.getByText('Saved successfully')).toBeVisible({ timeout: 10000 });
});

