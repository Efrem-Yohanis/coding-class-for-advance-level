Name

Test Case 415047: Verify the SEC Information page


Manual Test Case
415047	Test Case	Verify the SEC Information page				
			1	Shared steps 413501: Login into AB2 site				
			2	Click on ABSEE Deal icon	Verify user navigates to the ABSEE Deal Home landing page			
			3	Go to newly created and uploaded ABSEE deal	Verify the new deal is available with details and View and Delete button are also available			
			4	Click on 'View' button	Verify View button is accessible and clickable to user			
			5	Check for the SEC button 	Verify SEC buttton is available and enabled			
			6	Click on the SEC button	"Verify ""SEC Information for Deal"" page is opened for the user and below fields available
Submission information,ABS-EE CoRegistrant,Notification Email"			
			7	Check for the tooltip message for the madatory fields	"Verify below tooltip message is shown when user try to save without filling the Mandatory fields
""Please fill out this field"",""CCC lenght should be 8 characters"			
			8	Check for the success message once all the fields are fiiled out	Verify a success popup is shown once user fills the fields and clicks save button			

Record

import { test, expect } from '@playwright/test';

// 415047 - SEC Information page
// Replaces noisy recording with clear assertions for field presence, validation tooltips, and successful save

test('415047 - SEC Information page shows fields and validation messages', async ({ page }) => {
  const jobRow = /Testing job|99 submission proof to be/; // parameterize in fixtures

  // Navigate to Deals home
  await page.goto('https://13f-qa.azurewebsites.net/deals');
  await page.getByRole('button', { name: 'ABS-EE Deal Home' }).click();
  await expect(page.getByRole('heading', { name: 'ABS-EE Deal Home' })).toBeVisible();

  // Open deal and go to SEC page
  await page.getByRole('row', { name: jobRow }).getByRole('link').click();
  await page.getByRole('link', { name: 'SEC' }).click();

  // Assert key sections and fields are present
  await expect(page.getByText('Submission Information')).toBeVisible();
  await expect(page.getByText('Submission Contact')).toBeVisible();
  await expect(page.getByText('Notification Email')).toBeVisible();

  // Click Save without filling required fields and assert validation message appears
  await page.getByRole('button', { name: 'Save' }).click();
  await expect(page.getByText(/Please fill out this field/i)).toBeVisible({ timeout: 5_000 });

  // Fill minimal required fields and save successfully
  await page.getByRole('spinbutton').first().fill('0000990461'); // Filer CIK
  await page.getByRole('textbox', { name: /Filer CCC/i }).fill('2trains*');
  await page.getByRole('textbox', { name: /ABS-EE File Number/i }).fill('002-12345');
  await page.getByRole('spinbutton').nth(1).fill('0000990600'); // Depositor CIK
  await page.getByRole('spinbutton').nth(2).fill('0000990458'); // Sponsor CIK
  await page.locator('input[type="email"]').first().fill('test@example.com');

  await page.getByRole('button', { name: 'Save' }).click();
  await expect(page.getByText(/Saved successfully/i)).toBeVisible({ timeout: 10_000 });
});

